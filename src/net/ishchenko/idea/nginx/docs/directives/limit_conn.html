<h2> <span class="mw-headline" id="limit_conn"> limit_conn </span></h2><p><b>syntax:</b> <i>limit_conn zone_name max_clients_per_ip</i> </p><p><b>default:</b> <i>no</i> </p><p><b>context:</b> <i>http, server, location</i> </p><p>Directive assigns the maximum number of simultaneous connections for one session. With exceeding of this number the request completes by the code &quot;Service unavailable&quot; (503). </p><p>For example, the directive: </p><div dir="ltr" class="mw-geshi" style="text-align: left;">
 <div class="nginx source-nginx">
  <pre class="de1"><a href="/NginxHttpLimitZoneModule#limit_zone"><span class="kw17">limit_zone</span></a>   one  <span class="re0">$binary_remote_addr</span>  10m<span class="sy0">;</span>
&nbsp;
<a href="/NginxHttpCoreModule#server"><span class="kw3">server</span></a> <span class="br0">{</span>
  <a href="/NginxHttpCoreModule#location"><span class="kw3">location</span></a> /download/ <span class="br0">{</span>
  <a href="/NginxHttpLimitZoneModule#limit_conn"><span class="kw17">limit_conn</span></a>   one  <span class="nu0">1</span><span class="sy0">;</span>
<span class="br0">}</span></pre>
 </div>
</div><p>This allows not more than one simultaneous connection from one address. </p><br><i>Module: HttpLimitZoneModule</i>